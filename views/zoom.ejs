<!DOCTYPE html>
<html lang="en">
   
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    

    <style>
        body {
            background-color: yellow;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        h2 {
            color: blue;
        }

        form {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }

        button {
            padding: 10px;
            background-color: green;
            color: white;
            cursor: pointer;
        }
    </style>

<script src="https://kit.fontawesome.com/da4c18e391.js" crossorigin="anonymous"></script>
<!-- Global site tag (gtag.js) - Google Analytics. DO NOT EDIT OR REMOVE. -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146752984-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-146752984-1');
</script>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- CSRF Token -->
<meta name="csrf-token" content="5viRcQeY33fcUQlFbh4m8FnUe5awDg8DnGwlIjIX">
<!-- Fav and touch icons -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../images/fav.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../images/fav.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../images/fav.png">
<link rel="apple-touch-icon-precomposed" href="../../images/fav.png">
<link rel="shortcut icon" href="../../images/fav.png">
<title>Accounts Place Kenya</title>
<!-- Bootstrap core CSS -->
<link href="https://www.accountsplace.co.ke/assets/bootstrap/css/bootstrap.css" rel="stylesheet">
<link href="https://www.accountsplace.co.ke/assets/css/style.css" rel="stylesheet">
<!-- styles needed for carousel slider -->
<link href="https://www.accountsplace.co.ke/assets/plugins/owl-carousel/owl.carousel.css" rel="stylesheet">
<link href="https://www.accountsplace.co.ke/assets/plugins/owl-carousel/owl.theme.css" rel="stylesheet">
<link href="https://www.accountsplace.co.ke/assets/plugins/bxslider/jquery.bxslider.css" rel="stylesheet"/>
<link href="https://www.accountsplace.co.ke/assets/css/custom.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">

<!-- Just for debugging purposes. -->
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->

<!-- include pace script for automatic web page progress bar  -->
<script>
    paceOptions = {
        elements: true
    };
</script>
<script src="https://www.accountsplace.co.ke/assets/js/pace.min.js"></script>
<script src="https://www.accountsplace.co.ke/assets/plugins/modernizr/modernizr-custom.js"></script>
<!-- Mailchimp marketing script. DO NOT EDIT OR REMOVE. -->
<script id="mcjs">!function (c, h, i, m, p) { m = c.createElement(h), p = c.getElementsByTagName(h)[0], m.async = 1, m.src = i, p.parentNode.insertBefore(m, p) }(document, "script", "https://chimpstatic.com/mcjs-connected/js/users/2e932fe60ba725e220bd9cc51/a385ffcbfc9cb825c9c5d2bbe.js");</script>
<style type="text/css">
    body {
        background-color: goldenrod;
    }

    #myBtn {
        display: none;
        /* Hidden by default */
        position: fixed;
        /* Fixed/sticky position */
        bottom: 20px;
        /* Place the button at the bottom of the page */
        right: 30px;
        /* Place the button 30px from the right */
        z-index: 99;
        /* Make sure it does not overlap */
        border: none;
        /* Remove borders */
        outline: none;
        /* Remove outline */
        background-color: #387be0;
        /* Set a background color */
        color: rgb(12, 12, 12);
        /* Text color */
        cursor: pointer;
        /* Add a mouse pointer on hover */
        padding: 15px;
        /* Some padding */
        border-radius: 30px;
        /* Rounded corners */
        font-size: 18px;
        /* Increase font size */
    }

    #myBtn:hover {
        background-color: #555;
        /* Add a dark-grey background on hover */
    }
</style>
<!-- Facebook Pixel Code DO NOT EDIT OR REMOVE -->
<script>
    !function (f, b, e, v, n, t, s)
    { if (f.fbq) return; n = f.fbq = function () { n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments); };
        if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
        n.queue = []; t = b.createElement(e); t.async = !0;
        t.src = v; s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s)
    }(window, document, 'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '552928128830173');
    fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
               src="https://www.facebook.com/tr?id=552928128830173&ev=PageView&noscript=1"
    /></noscript>
<!-- End Facebook Pixel Code -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7333941459612266"
        crossorigin="anonymous"></script>
</head>
<body>
    <div class="header">
        <nav class="navbar  fixed-top navbar-site navbar-light bg-light navbar-expand-md"
             role="navigation">
            <div class="container">
                <div class="navbar-identity">
                    <a href="/" class="navbar-brand logo logo-title">
                        <img class="userImg" src="/images/logo.png"
                             alt="LOGO" style="width:300px; height:61px; border:0px"> </a>

                    <button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggler pull-right"
                            type="button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"/></svg>
                    </button>
                </div>

                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav ml-auto navbar-right">
                        <li class="nav-item"><a href="/" class="nav-link"><i class="fa fa-home"></i> Home</a></li>
                        <li class="nav-item"><a href="accountmanager" class="nav-link"><i class="fa fa-users"></i> Account Manager</a></li>
                        <li class="nav-item"><a href="/register" class="nav-link"><i class="fa fa-edit"></i> Register</a></li>
                        <li class="nav-item"><a href="#" class="nav-link"><i class="fas fa-sign-in-alt"></i> Login</a></li>
                        <li class="postadd nav-item"><a class="btn btn-block   btn-border btn-post btn-success nav-link"
                                                       href="/listing">Post a Listing</a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /.container-fluid -->
        </nav>
    </div>

<form id="zoomMeetingForm">
    <label for="meetingTopic">Meeting Topic:</label>
    <input type="text" id="meetingTopic" name="meetingTopic" required>

    <label for="startTime">Start Time:</label>
    <input type="datetime-local" id="startTime" name="startTime" required>

    <button type="button" onclick="createZoomMeeting()">Create Meeting</button>
</form>

<script>
function createZoomMeeting() {
    // Replace with your Zoom API key and secret
    const zoomApiKey = "your_zoom_api_key";
    const zoomApiSecret = "your_zoom_api_secret";

    const meetingTopic = document.getElementById("meetingTopic").value;
    const startTime = document.getElementById("startTime").value;

    // Zoom API endpoint for creating a meeting
    const apiUrl = "https://api.zoom.us/v2/users/me/meetings";

    // Set up the request headers
    const headers = {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${generateJwtToken(zoomApiKey, zoomApiSecret)}`
    };

    // Set up the request payload
    const payload = {
        "topic": meetingTopic,
        "type": 1,  // 1 for instant meeting
        "start_time": startTime,
        "duration": 60,  // Meeting duration in minutes
        "timezone": "UTC"
    };

    // Make the API request to create the Zoom meeting
    $.ajax({
        url: apiUrl,
        type: "POST",
        headers: headers,
        data: JSON.stringify(payload),
        success: function(response) {
            alert("Zoom meeting created successfully!");
            console.log(response);
        },
        error: function(error) {
            alert("Failed to create Zoom meeting.");
            console.error(error);
        }
    });
}

function generateJwtToken(apiKey, apiSecret) {
    // Zoom API endpoint for generating a JWT token
    const tokenUrl = "https://api.zoom.us/v2/users/me/token";

    // Set up the request headers
    const headers = {
        "Content-Type": "application/json",
    };

    // Set up the request payload
    const payload = {
        "iss": apiKey,
        "exp": Math.floor(Date.now() / 1000) + 3600  // Token expiration time (1 hour)
    };

    // Generate the JWT token
    return $.ajax({
        url: tokenUrl,
        type: "POST",
        headers: headers,
        data: JSON.stringify(payload),
        async: false,  // Synchronous request to get the token
        success: function(response) {
            return response.token;
        },
        error: function(error) {
            console.error("Failed to generate JWT token.", error);
        }
    }).responseJSON.token;
}
</script>

</body>
</html>
